<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - KreasiLokal.id</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background-color: #f4f4f4; margin: 0; }
        .container { width: 1200px; margin: 0 auto; padding: 0 15px; }
        .card { background-color: #fff; padding: 1.5rem; border-radius: 8px; margin-bottom: 1rem; }
        .checkout-layout { display: grid; grid-template-columns: 2fr 1fr; gap: 2rem; align-items: start; }
        h3 { border-bottom: 1px solid #eee; padding-bottom: 1rem; margin-top: 0; }

        /* Alamat Pengiriman */
        .shipping-address-info { display: flex; justify-content: space-between; align-items: flex-start; }
        .shipping-address-info p { margin: 0 0 5px 0; }
        .shipping-address-info strong { font-size: 1.1rem; }
        
        /* Opsi Pengiriman & Pembayaran */
        .option-box { border: 1px solid #ccc; padding: 1rem; border-radius: 5px; margin-bottom: 10px; cursor: pointer; transition: all 0.2s ease-in-out; }
        .option-box.selected { border-color: #2e8b57; background-color: #e9f5ee; box-shadow: 0 2px 8px rgba(46, 139, 87, 0.2); }
        
        /* Ringkasan Pesanan */
        .order-summary-item { display: flex; align-items: center; margin-bottom: 1rem; }
        .order-summary-item img { width: 50px; height: 50px; border-radius: 5px; margin-right: 10px; }
        .summary-row { display: flex; justify-content: space-between; margin-bottom: 1rem; }
        .summary-row.total { font-weight: bold; font-size: 1.2rem; border-top: 1px solid #eee; padding-top: 1rem; }
        .btn-place-order { width: 100%; padding: 1rem; font-size: 1.1rem; border: none; background: #ff8c00; color: white; border-radius: 5px; cursor: pointer; }
        .voucher-input { display: flex; gap: 10px; margin-top: 1rem; }
        .voucher-input input { flex-grow: 1; padding: 10px; border: 1px solid #ccc; border-radius: 5px; }
        .voucher-input button { padding: 10px; border: none; background: #2e8b57; color: white; border-radius: 5px; cursor: pointer; }

        /* Header */
        .navbar { background-color: #ffffff; padding: 1rem 0; border-bottom: 1px solid #e0e0e0; }
        .navbar .container { display: flex; align-items: center; }
        .navbar .nav-left a { font-size: 1.5rem; color: #333; text-decoration: none; margin-right: 1rem; }
        .navbar .nav-center { font-size: 1.2rem; font-weight: 600; }
    </style>
</head>
<body>
    <header class="navbar">
        <div class="container">
          <div class="nav-left">
            <a href="javascript:history.back()" title="Kembali"><i class="fas fa-arrow-left"></i></a>
          </div>
          <div class="nav-center">
            <span>Checkout</span>
          </div>
        </div>
    </header>

    <main class="container" style="margin-top: 2rem;">
        <div class="checkout-layout">
            <!-- Kolom Kiri: Alamat, Pengiriman, Pembayaran -->
            <div>
                <div class="card">
                    <h3><i class="fas fa-map-marker-alt"></i> Alamat Pengiriman</h3>
                    <div class="shipping-address-info">
                        <div>
                            <strong>Budi Santoso</strong>
                            <p>081234567890</p>
                            <p>Jl. Pahlawan No. 123, Mugassari, Kec. Semarang Sel., Kota Semarang, Jawa Tengah 50249</p>
                        </div>
                        <a href="#">Ubah</a>
                    </div>
                </div>

                <div class="card shipping-options">
                    <h3><i class="fas fa-truck"></i> Opsi Pengiriman</h3>
                    <div class="option-box selected" data-cost="15000">
                        <strong>Reguler (Rp 15.000)</strong>
                        <p>Estimasi tiba 2-3 hari</p>
                    </div>
                    <div class="option-box" data-cost="50000">
                        <strong>Kargo (Rp 50.000)</strong>
                        <p>Estimasi tiba 5-7 hari</p>
                    </div>
                     <div class="option-box" data-cost="25000">
                        <strong>Express (Rp 25.000)</strong>
                        <p>Estimasi tiba besok</p>
                    </div>
                </div>

                <div class="card payment-options">
                    <h3><i class="fas fa-credit-card"></i> Metode Pembayaran</h3>
                    <div class="option-box selected">
                        <strong>Transfer Bank (BCA)</strong>
                    </div>
                    <div class="option-box">
                        <strong>Virtual Account</strong>
                    </div>
                     <div class="option-box">
                        <strong>Bayar di Tempat (COD)</strong>
                    </div>
                </div>
            </div>

            <!-- Kolom Kanan: Ringkasan Pesanan -->
            <div>
                <div class="card">
                    <h3>Ringkasan Pesanan</h3>
                    <div class="order-summary-item">
                        <img src="https://placehold.co/80x80/2e8b57/ffffff?text=Batik" alt="Produk">
                        <div>
                            <p>Dress Batik Modern Kawung (x1)</p>
                            <strong>Rp 450.000</strong>
                        </div>
                    </div>
                    <div class="order-summary-item">
                        <img src="https://placehold.co/80x80/654321/ffffff?text=Lampu" alt="Produk">
                        <div>
                            <p>Lampu Gantung Anyaman (x2)</p>
                            <strong>Rp 258.500</strong>
                        </div>
                    </div>
                    <div class="voucher-input">
                        <input type="text" id="voucher-code" placeholder="Masukkan Kode Voucher">
                        <button id="apply-voucher-btn">Gunakan</button>
                    </div>
                    <hr>
                    <div class="summary-row">
                        <span>Subtotal:</span>
                        <span id="summary-subtotal">Rp 708.500</span>
                    </div>
                    <div class="summary-row">
                        <span>Pengiriman:</span>
                        <span id="summary-shipping">Rp 15.000</span>
                    </div>
                    <div class="summary-row" id="summary-discount-row" style="display: none;">
                        <span>Diskon:</span>
                        <span id="summary-discount">- Rp 0</span>
                    </div>
                    <div class="summary-row total">
                        <span>Total:</span>
                        <span id="summary-total">Rp 723.500</span>
                    </div>
                    <button class="btn-place-order" style="margin-top: 1rem;" onclick="alert('Pesanan berhasil dibuat! (Simulasi)')">Buat Pesanan</button>
                </div>
            </div>
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const state = { subtotal: 708500, shippingCost: 15000, discount: 0 };
            const shippingOptionsContainer = document.querySelector('.shipping-options');
            const paymentOptionsContainer = document.querySelector('.payment-options');
            const applyVoucherBtn = document.getElementById('apply-voucher-btn');
            const voucherCodeInput = document.getElementById('voucher-code');
            function formatCurrency(value) { return 'Rp ' + value.toLocaleString('id-ID'); }
            function updateSummary() {
                const total = state.subtotal + state.shippingCost - state.discount;
                document.getElementById('summary-subtotal').textContent = formatCurrency(state.subtotal);
                document.getElementById('summary-shipping').textContent = formatCurrency(state.shippingCost);
                const discountRow = document.getElementById('summary-discount-row');
                if (state.discount > 0) {
                    document.getElementById('summary-discount').textContent = '- ' + formatCurrency(state.discount);
                    discountRow.style.display = 'flex';
                } else {
                    discountRow.style.display = 'none';
                }
                document.getElementById('summary-total').textContent = formatCurrency(total);
            }
            function setupOptionSelector(container) {
                if (!container) return;
                container.addEventListener('click', function(event) {
                    const clickedOption = event.target.closest('.option-box');
                    if (!clickedOption) return;
                    container.querySelectorAll('.option-box').forEach(opt => opt.classList.remove('selected'));
                    clickedOption.classList.add('selected');
                    if (container.classList.contains('shipping-options')) {
                        state.shippingCost = parseInt(clickedOption.dataset.cost) || 0;
                        updateSummary();
                    }
                });
            }
            applyVoucherBtn.addEventListener('click', function() {
                const code = voucherCodeInput.value.trim().toUpperCase();
                if (code === 'LOKALDISKON') {
                    state.discount = 50000;
                    alert('Voucher berhasil digunakan!');
                } else {
                    state.discount = 0;
                    alert('Kode voucher tidak valid.');
                }
                updateSummary();
            });
            setupOptionSelector(shippingOptionsContainer);
            setupOptionSelector(paymentOptionsContainer);
            updateSummary();
        });
    </script>
</body>
</html>
